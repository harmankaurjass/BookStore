{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Caurv\\\\Documents\\\\capstone\\\\Capstone_Sprint4_Deliverables\\\\BookStore\\\\BookStore\\\\client\\\\src\\\\components\\\\Cart.js\";\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport { connect } from 'react-redux';\nimport * as actions from '../actions/index';\nimport { Link } from 'react-router-dom';\nimport { Redirect } from \"react-router-dom\";\nimport StripeCheckout from 'react-stripe-checkout';\nimport { STRIPE_PS_KEY } from '../config/keys';\nimport axios from 'axios';\n\nclass Cart extends Component {\n  constructor(props) {\n    super(props);\n\n    this.makePayment = token => {\n      const items = this.props.items;\n      const payableAmt = this.props.total;\n      const user = this.props.userProfile;\n      const body = {\n        token,\n        items,\n        payableAmt,\n        user\n      };\n      axios.post('users/payment', body).then(response => {\n        this.props.emptyCart();\n        this.setState({\n          paySuccess: true\n        });\n      }).catch(err => {\n        this.setState({\n          payFailure: true\n        });\n      });\n    };\n\n    this.handleIncrease = (id, quantity) => {\n      if (quantity !== '99') {\n        this.props.incrementQuantity(id);\n      } else {// books out of stock\n      }\n    };\n\n    this.handleDecrease = (id, quantity) => {\n      if (quantity === '1') {\n        this.handleRemove(id);\n      } else {\n        this.props.decrementQuantity(id);\n      }\n    };\n\n    this.handleRemove = id => {\n      this.props.removeFromCart(id);\n    };\n\n    this.handleCupoun = e => {//call backend any check if coupon is valid\n    };\n\n    this.handleCupounSubmit = e => {\n      e.preventDefault();\n      ReactDOM.findDOMNode(this.refs.couponMsg).style.display = 'block';\n    };\n\n    this.state = {\n      paySuccess: false,\n      payFailure: false\n    };\n  }\n\n  render() {\n    const {\n      items,\n      subTotal,\n      shipping,\n      total\n    } = this.props;\n\n    if (this.state.paySuccess) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/payment_success\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 20\n        }\n      });\n    }\n\n    if (this.state.payFailure) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/payment_failure\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 20\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        background: '#eecda3'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"px-4 px-lg-0\",\n      id: \"background\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pb-5 pt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 p-5 bg-white rounded shadow-sm mb-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-responsive\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      className: \"border-0\",\n      id: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"p-2 px-3 text-uppercase\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 57\n      }\n    }, \"Book\")), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      className: \"border-0 \",\n      id: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"py-2 text-uppercase text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 57\n      }\n    }, \"Price\")), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      className: \"border-0 \",\n      id: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"py-2 text-uppercase text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 57\n      }\n    }, \"Quantity\")), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      className: \"border-0 \",\n      id: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"py-2 text-uppercase text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 57\n      }\n    }, \"Remove\")))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 45\n      }\n    }, items.map((item, index) => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 57\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"row\",\n        className: \"border-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 61\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"p-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 65\n        }\n      }, item.book.image ? /*#__PURE__*/React.createElement(\"img\", {\n        src: require(`../images/books_DB/${item.book.image}`),\n        alt: \"book_image\",\n        width: \"70\",\n        className: \"img-fluid rounded shadow-sm\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 88\n        }\n      }) : /*#__PURE__*/React.createElement(\"img\", {\n        src: require(`../images/books_DB/no_cover.jpg`),\n        alt: \"book_image\",\n        width: \"70\",\n        className: \"img-fluid rounded shadow-sm\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 221\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"ml-3 d-inline-block align-middle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 69\n        }\n      }, /*#__PURE__*/React.createElement(\"h5\", {\n        className: \"mb-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 73\n        }\n      }, \" \", /*#__PURE__*/React.createElement(Link, {\n        to: 'book/' + item.book.id,\n        className: \"text-dark d-inline-block align-middle text-truncate\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 95\n        }\n      }, item.book.name)), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"text-muted font-weight-normal font-italic d-block\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 221\n        }\n      }, item.book.author)))), /*#__PURE__*/React.createElement(\"td\", {\n        className: \"border-0 align-middle text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 61\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 111\n        }\n      }, \"$ \", item.book.price)), /*#__PURE__*/React.createElement(\"td\", {\n        className: \"border-0 align-middle text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 61\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 111\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: () => this.handleIncrease(`${item.book.id}`, `${item.quantity}`),\n        id: \"arrow\",\n        className: \"btn btn-primary btn-sm mr-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 119\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-arrow-up \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 253\n        }\n      })), item.quantity, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: () => this.handleDecrease(`${item.book.id}`, `${item.quantity}`),\n        id: \"arrow\",\n        className: \"btn btn-primary btn-sm ml-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 312\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-arrow-down \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 446\n        }\n      })))), /*#__PURE__*/React.createElement(\"td\", {\n        className: \"border-0 align-middle text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 61\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: () => this.handleRemove(`${item.book.id}`),\n        className: \"btn btn-danger btn-sm \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 111\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-trash \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 207\n        }\n      }))));\n    })))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row py-5 p-4 bg-white rounded shadow-sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"title\",\n      className: \" rounded-pill px-4 py-3 text-uppercase font-weight-bold\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 37\n      }\n    }, \"Coupon code\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"p-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"font-italic mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 41\n      }\n    }, \"If you have a coupon code, please enter it in the box below\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group mb-4 border rounded-pill p-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Apply coupon\",\n      onChange: this.handleCupoun,\n      \"aria-describedby\": \"button-addon3\",\n      className: \"form-control border-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 45\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-append border-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      id: \"button-addon3\",\n      type: \"button\",\n      onClick: this.handleCupounSubmit,\n      className: \"btn btn-danger px-4 rounded-pill\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-gift mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 169\n      }\n    }), \"Apply coupon\"))), /*#__PURE__*/React.createElement(\"div\", {\n      style: couponMsg,\n      ref: \"couponMsg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 41\n      }\n    }, \"Invalid Coupon\")), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"title\",\n      className: \" rounded-pill px-4 py-3 text-uppercase font-weight-bold\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 37\n      }\n    }, \"Instructions for seller\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"p-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"font-italic mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 41\n      }\n    }, \"If you have some information for the seller you can leave them in the box below\"), /*#__PURE__*/React.createElement(\"textarea\", {\n      onChange: this.handleSellerInstructions,\n      name: \"\",\n      cols: \"30\",\n      rows: \"2\",\n      className: \"form-control\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 41\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"title\",\n      className: \" rounded-pill px-4 py-3 text-uppercase font-weight-bold\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 37\n      }\n    }, \"Order summary \"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"p-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"font-italic mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 41\n      }\n    }, \"Shipping and additional costs are calculated based on values you have entered.\"), /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"list-unstyled mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"d-flex justify-content-between py-3 border-bottom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      className: \"text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 111\n      }\n    }, \"Order Subtotal \"), /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 166\n      }\n    }, \"$ \", subTotal)), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"d-flex justify-content-between py-3 border-bottom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      className: \"text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 111\n      }\n    }, \"Shipping and handling\"), /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 172\n      }\n    }, \"$ \", total ? shipping : 0)), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"d-flex justify-content-between py-3 border-bottom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      className: \"text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 111\n      }\n    }, \"Tax\"), /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 154\n      }\n    }, \"$ 0\")), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"d-flex justify-content-between py-3 border-bottom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      className: \"text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 111\n      }\n    }, \"Total\"), /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"font-weight-bold\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 49\n      }\n    }, \"$ \", total))), /*#__PURE__*/React.createElement(StripeCheckout, {\n      stripeKey: STRIPE_PS_KEY,\n      token: this.makePayment,\n      name: \"Book Store\",\n      currency: \"CAD\",\n      billingAddress: true,\n      amount: total * 100,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-large btn-danger \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 45\n      }\n    }, \"Proceed to checkout\")))))))));\n  }\n\n}\n\nconst couponMsg = {\n  textAlign: 'center',\n  padding: '10px',\n  background: '#28a745',\n  color: '#fff',\n  marginBottom: '10px',\n  display: 'none'\n};\n\nconst mapStateToProps = state => {\n  return {\n    items: state.cart.items,\n    subTotal: state.cart.subTotal,\n    shipping: state.cart.shipping,\n    total: state.cart.total,\n    userProfile: state.profile.userProfile\n  };\n};\n\nexport default connect(mapStateToProps, actions)(Cart);","map":{"version":3,"sources":["C:/Users/Caurv/Documents/capstone/Capstone_Sprint4_Deliverables/BookStore/BookStore/client/src/components/Cart.js"],"names":["React","Component","ReactDOM","connect","actions","Link","Redirect","StripeCheckout","STRIPE_PS_KEY","axios","Cart","constructor","props","makePayment","token","items","payableAmt","total","user","userProfile","body","post","then","response","emptyCart","setState","paySuccess","catch","err","payFailure","handleIncrease","id","quantity","incrementQuantity","handleDecrease","handleRemove","decrementQuantity","removeFromCart","handleCupoun","e","handleCupounSubmit","preventDefault","findDOMNode","refs","couponMsg","style","display","state","render","subTotal","shipping","background","map","item","index","book","image","require","name","author","price","handleSellerInstructions","textAlign","padding","color","marginBottom","mapStateToProps","cart","profile"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport { connect } from 'react-redux';\nimport * as actions from '../actions/index';\nimport { Link } from 'react-router-dom';\nimport { Redirect } from \"react-router-dom\";\nimport StripeCheckout from 'react-stripe-checkout';\nimport { STRIPE_PS_KEY } from '../config/keys';\nimport axios from 'axios';\n\n\n\n\nclass Cart extends Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            paySuccess: false,\n            payFailure: false\n        }\n    }\n\n    makePayment = token => {\n        const items = this.props.items;\n        const payableAmt = this.props.total;\n        const user = this.props.userProfile;\n        const body = {\n            token,\n            items,\n            payableAmt,\n            user\n        }\n        axios.post('users/payment', body)\n            .then((response) => {\n                this.props.emptyCart();\n                this.setState({\n                    paySuccess: true\n                })\n            })\n            .catch((err) => {\n                this.setState({\n                    payFailure: true\n                })\n            })\n    }\n\n\n    handleIncrease = (id, quantity) => {\n        if (quantity !== '99') {\n            this.props.incrementQuantity(id);\n        } else {\n            // books out of stock\n        }\n\n    }\n\n    handleDecrease = (id, quantity) => {\n        if (quantity === '1') {\n            this.handleRemove(id);\n        } else {\n            this.props.decrementQuantity(id);\n        }\n\n    }\n\n    handleRemove = id => {\n        this.props.removeFromCart(id);\n    }\n\n    handleCupoun = e => {\n        //call backend any check if coupon is valid\n    }\n\n    handleCupounSubmit = e => {\n        e.preventDefault();\n        ReactDOM.findDOMNode(this.refs.couponMsg).style.display = 'block';\n    }\n    render() {\n        const { items, subTotal, shipping, total } = this.props;\n        if (this.state.paySuccess) {\n            return <Redirect to='/payment_success' />;\n        }\n        if (this.state.payFailure) {\n            return <Redirect to='/payment_failure' />;\n        }\n        return (\n            <div style={{ background: '#eecda3' }}>\n                <div className=\"px-4 px-lg-0\" id=\"background\">\n\n                    <div className=\"pb-5 pt-5\">\n                        <div className=\"container\" >\n                            <div className=\"row\">\n                                <div className=\"col-lg-12 p-5 bg-white rounded shadow-sm mb-5\">\n\n                                    <div className=\"table-responsive\">\n                                        <table className=\"table\">\n                                            <thead>\n                                                <tr>\n                                                    <th scope=\"col\" className=\"border-0\" id=\"title\">\n                                                        <div className=\"p-2 px-3 text-uppercase\" >Book</div>\n                                                    </th>\n                                                    <th scope=\"col\" className=\"border-0 \" id=\"title\">\n                                                        <div className=\"py-2 text-uppercase text-center\">Price</div>\n                                                    </th>\n                                                    <th scope=\"col\" className=\"border-0 \"id=\"title\">\n                                                        <div className=\"py-2 text-uppercase text-center\">Quantity</div>\n                                                    </th>\n                                                    <th scope=\"col\" className=\"border-0 \" id=\"title\">\n                                                        <div className=\"py-2 text-uppercase text-center\">Remove</div>\n                                                    </th>\n                                                </tr>\n                                            </thead>\n                                            <tbody>\n                                                {items.map((item, index) => {\n                                                    return (\n                                                        <tr key={index}>\n                                                            <th scope=\"row\" className=\"border-0\">\n                                                                <div className=\"p-2\">\n                                                                    {item.book.image ? <img src={require(`../images/books_DB/${item.book.image}`)} alt=\"book_image\" width=\"70\" className=\"img-fluid rounded shadow-sm\" /> : <img src={require(`../images/books_DB/no_cover.jpg`)} alt=\"book_image\" width=\"70\" className=\"img-fluid rounded shadow-sm\" />}\n\n                                                                    <div className=\"ml-3 d-inline-block align-middle\">\n                                                                        <h5 className=\"mb-0\"> <Link to={'book/' + item.book.id} className=\"text-dark d-inline-block align-middle text-truncate\">{item.book.name}</Link></h5><span className=\"text-muted font-weight-normal font-italic d-block\">{item.book.author}</span>\n                                                                    </div>\n                                                                </div>\n                                                            </th>\n                                                            <td className=\"border-0 align-middle text-center\"><strong>$ {item.book.price}</strong></td>\n                                                            <td className=\"border-0 align-middle text-center\"><strong><button onClick={() => this.handleIncrease(`${item.book.id}`, `${item.quantity}`)} id=\"arrow\" className=\"btn btn-primary btn-sm mr-3\"><i className=\"fa fa-arrow-up \"></i></button>{item.quantity}<button onClick={() => this.handleDecrease(`${item.book.id}`, `${item.quantity}`)} id=\"arrow\" className=\"btn btn-primary btn-sm ml-3\"><i className=\"fa fa-arrow-down \" ></i></button></strong></td>\n                                                            <td className=\"border-0 align-middle text-center\"><button onClick={() => this.handleRemove(`${item.book.id}`)} className=\"btn btn-danger btn-sm \"><i className=\"fa fa-trash \"></i></button></td>\n                                                        </tr>\n                                                    )\n                                                })}\n                                            </tbody>\n                                        </table>\n                                    </div>\n                                </div>\n                            </div>\n\n                            <div className=\"row py-5 p-4 bg-white rounded shadow-sm\">\n                                <div className=\"col-lg-6\" >\n                                    <div id=\"title\" className=\" rounded-pill px-4 py-3 text-uppercase font-weight-bold\">Coupon code</div>\n                                    <div className=\"p-4\">\n                                        <p className=\"font-italic mb-4\">If you have a coupon code, please enter it in the box below</p>\n                                        <div className=\"input-group mb-4 border rounded-pill p-2\">\n                                            <input type=\"text\" placeholder=\"Apply coupon\" onChange={this.handleCupoun} aria-describedby=\"button-addon3\" className=\"form-control border-0\" />\n                                            <div className=\"input-group-append border-0\">\n                                                <button id=\"button-addon3\" type=\"button\" onClick={this.handleCupounSubmit} className=\"btn btn-danger px-4 rounded-pill\"><i className=\"fa fa-gift mr-2\"></i>Apply coupon</button>\n                                            </div>\n                                        </div>\n                                        <div style={couponMsg} ref=\"couponMsg\">Invalid Coupon</div>\n                                    </div>\n                                    <div id=\"title\" className=\" rounded-pill px-4 py-3 text-uppercase font-weight-bold\">Instructions for seller</div>\n                                    <div className=\"p-4\">\n                                        <p className=\"font-italic mb-4\">If you have some information for the seller you can leave them in the box below</p>\n                                        <textarea onChange={this.handleSellerInstructions} name=\"\" cols=\"30\" rows=\"2\" className=\"form-control\"></textarea>\n                                    </div>\n                                </div>\n                                <div className=\"col-lg-6\">\n                                    <div id=\"title\" className=\" rounded-pill px-4 py-3 text-uppercase font-weight-bold\">Order summary </div>\n                                    <div className=\"p-4\">\n                                        <p className=\"font-italic mb-4\">Shipping and additional costs are calculated based on values you have entered.</p>\n                                        <ul className=\"list-unstyled mb-4\">\n                                            <li className=\"d-flex justify-content-between py-3 border-bottom\"><strong className=\"text-muted\">Order Subtotal </strong><strong>$ {subTotal}</strong></li>\n                                            <li className=\"d-flex justify-content-between py-3 border-bottom\"><strong className=\"text-muted\">Shipping and handling</strong><strong>$ {total ? shipping : 0}</strong></li>\n                                            <li className=\"d-flex justify-content-between py-3 border-bottom\"><strong className=\"text-muted\">Tax</strong><strong>$ 0</strong></li>\n                                            <li className=\"d-flex justify-content-between py-3 border-bottom\"><strong className=\"text-muted\">Total</strong>\n                                                <h5 className=\"font-weight-bold\">$ {total}</h5>\n                                            </li>\n                                        </ul>\n                                        {/* <Link to='/checkout' className=\"text-decoration-none\"><button className=\"btn btn-danger rounded-pill py-2 btn-block text-decoration-none\">Procceed to checkout</button></Link>\n                                         */}\n                                        <StripeCheckout\n                                            stripeKey={STRIPE_PS_KEY}\n                                            token={this.makePayment}\n                                            name=\"Book Store\"\n                                            currency=\"CAD\"\n                                            billingAddress={true}\n                                            amount={total * 100} >\n                                            <button className=\"btn btn-large btn-danger \">Proceed to checkout</button>\n                                        </StripeCheckout>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nconst couponMsg = {\n    textAlign: 'center',\n    padding: '10px',\n    background: '#28a745',\n    color: '#fff',\n    marginBottom: '10px',\n    display: 'none'\n}\n\nconst mapStateToProps = state => {\n    return {\n        items: state.cart.items,\n        subTotal: state.cart.subTotal,\n        shipping: state.cart.shipping,\n        total: state.cart.total,\n        userProfile: state.profile.userProfile\n    }\n}\n\nexport default connect(mapStateToProps, actions)(Cart)\n"]},"metadata":{},"sourceType":"module"}